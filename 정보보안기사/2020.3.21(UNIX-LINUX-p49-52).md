## 유닉스/리눅스 8강(p49~52)



### 터미널, 세션, 프로세스 그룹 개요



터미널이 유닉스 시스템에 접속하겠지?

인증 과정을 거쳐서 로그인 쉘이 기동이 되겠지?

그러면 세션이 생성이 된다.

**세션이란? 터미널과 유닉스 시스템 사이에 논리적인 연결 상태**

그리고 세션 아이디가 생김 SID



자아 로그인 쉘이 기동이 돼면 process 뿐만 아니라 process group도 생성이 된다.

process group도 필요하니까 생성이 됬겠지?

**Process Group : 터미널 제어권의 관리 단위로서 이걸 사용한다.**



터미널로 유닉스 시스템 접속 => 인증과정 => 세션생성(터미널-유닉스 논리적 연결상태)=>로그인 쉘 프로세스 생성 =>프로세스 그룹 생성(login shell process를 관리하는 작업단위)



로그인 쉘 프로세스는 leader process 가 되며 이게 PID가 되고 로그인 쉘 프로세스를 관리하는 Process Group의

PGID는 login shell pid가 된다. 



자 그다음은 Login Shell이 a.out 파일을 실행시키면 새로운 프로세스가 생성이 되겠지? 그리고 그 프로세스를 관리하는 Process Group도 생겨나겠지?



우리가 fork라는 시스템 콜을 발생시키면 복사본 프로세스를 만들어낸다.(copy process)

별도의 pid가 생성이 됨

그리고 exec("실행파일")을 실행시키면

프로세스 이미지 교체(전이)가 일어남 



정리해서 말해보자면...

부모 프로세스가 자식 프로세스를 여러개 만들어 낼 수 있잖아?

그러면 이 때 부모와 자식 프로세스들은 같은 Process Group으로 묶인다.

![image-20200321231738540](C:\Users\KAUstar\AppData\Roaming\Typora\typora-user-images\image-20200321231738540.png)





터미널 제어권은 크게 2가지로 나뉜다.

1.터미널 입력(Terminal Input)

2.터미널 발생 신호(Terminal Generator Signal)

 

터미널 제어권을 가지고 동작하는 모드를 **foreground Mode**라고 한다.

터미널 제어권 없이 동작하는 모드를 **background Mode**라고 한다.



우리가 일반적으로 프로세스가 포그라운드 모드로 동작하네 백그라운드 모드로 동작하네 이러는데 정확히 말하자면 **어떤 프로세스 그룹이 포그라운드 모드/백그라운드  모드로 동작하네 이래야 함**







<hr>

터미널에 대한 제어권을 가지고 동작하는 모드를 포그라운드 모드 제어권을 가지고 있는 프로세스 그룹을 포그라운드 프로세스 그룹이라 한다

터미널에 대한 제어권 없이 동작하는 모드를 백그라운드 모드라고하며 제어권이 없는 프로세스 그룹을 백그라운드 프로세스 그룹이라 한다. 

터미널과 연결되어 세션이 생성되면, 해당 세션 내에서는 하나의 포그라운드 프로세스 그룹과 하나이상의 백그라운드 프로세스 그룹이 생성.

<hr>



전반적인 흐름을 이해하자

1.터미널 접속에서 부터

2.세션이 생성되고

3.프로세스 그룹이 생성되고

4.프로세스가 생성이 되고

5.포그라운드 모드와 백그라운드 모드와 프로세스 그룹간의 관계를 알아야 한다.