## 2020.3.19 멀캠강의내용



서버에 있는 데이터와 들어오는 데이터를 비교해야 한다.



왜 모든 페이지에 로그아웃 버튼을 만들어 놓는게 좋을까?



세션의 타임아웃 때문에 default 30분



그래서 은행 같은 곳은 세션 타임아웃을 10분 이렇게 주면서 보안을 강화한다.



web api 기능을 사용해보세요 

WebSocket

SSE(Server Side  Event)





Beef는 크로스 사이트 스크립트(XSS) 공격을 해볼 수 있는 도구



입력받지 않아도 크로스 사이트 스크립트 공격이 발생할 수 있다.

해커의 스크립트 공격 코드가 당하는 사람의 브라우저 안에서 작동하는 것만으로도 XSS 공격이 발생 가능

 

사용자가 입력한 js가 그대로 return 

글내용중에 js가 있기 때문에 다른 사람이 피해를 볼 수 있다.



js 위험성이 있는걸 제거하는게 개발자가 해야할 역할



글쓰기,글읽기 자바스크립트 문자열을 제거하는 것이 개발자의 책임 소재

그 다음부터 책임소재는 사용자에게 넘어간다.





XSS를 3가지로 나눠서 생각함(엄밀히 말하면 서버쪽에 피해를 준다기보다는 클라이언트쪽에 피해를 주는 것임)

1.Reflective XSS : 클라이언트가 서버로 데이터를 보낼 때 서버가 그대로 js 데이터를 보낼 때 일어날 수 있는 XSS



2.Stored XSS : 



3.DOM XSS : 

우리가 흔히 말하는 태그는 element node라고 한다.

이 XSS 공격을 피하기 위해서는 text node로 바꿔줘야 한다.





#### CSRF(Cross Site Request Forgery,크로스사이트 요청&위조)

요청에 대한 "요청 주체와 절차에 대한 검증이 불충분한 상태에서 요청을 처리 했을 경우 발생" => 희생자의 권한으로 해당 기능이 실행



사회공학적 기법이라서 마음을 움직여야 한다. 정상적인 URL 을 보내지만 사람의 마음을 움직이는 방법으로

기술적으로만 접근하지 말고





CSRF 토큰 : 중요한 기능에 대해서는 서버를 들렸다가 오는 방식을 취해야 한다.

CSRF 토큰을 사용해야 하는 상황을 가정해 보자



1.내가 로그인 요청을 서버에 하면 서버는 나에게 원하는 페이지를 렌더링 해준다.

이 때 리엑트나 여러 자바스크립트로 작성된 페이지들이 웹팩이라는 빌드 시스템에 묶여져서 클라이언트에 한번에 뿌려줌 사용자는 이걸 통해서 동적으로 화면을 이용할 수 있게 된다.

이때, 뿌려준 화면에서 중요한 작업을 해야 할 경우 심각한 보안문제를 야기할 수 있다.

중요한 작업을 수행할 시에 서버를 들렸다 오지 않고 처리를 한다면 위험하다

내가 로그인 버튼을 눌렀을 때 서버쪽에서는 난수를 발생시켜서 얻은 토큰을 사용자쪽에 전달해주고

사용자는 여러 업무를 하다가 중요한 기능인 이체기능을 수행할때 서버쪽에 다녀오게 되는데 서버는 사용자의 토큰과 내가 발행해준 토큰이 맞는지 확인하고 